@model FirstWebApp.Models.Game

<h2>Добавить игру</h2>

<form asp-action="Create" method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label asp-for="name"></label>
        <input asp-for="name" class="form-control" placeholder = "My HTML5 Game"/>
    </div>

    <div class="form-group">
        <label asp-for="description"></label>
        <textarea asp-for="description" class="form-control" placeholder = "empty :("></textarea>
    </div>

    <div class="form-group">
        Tags
        <input asp-for="tags" class="form-control"/>
    </div>

    <div class="form-group">
        Game window width
        <input asp-for="window_width" class="form-control" placeholder = "800"/>
    </div>

    <div class="form-group">
        Game window height
        <input asp-for="window_height" class="form-control" placeholder = "600"/>
    </div>

    <div class="form-group mt-3">
        <label>Загрузка файла игры</label>
        <div id="dropzone" class="border border-secondary p-3 text-center" style="background: #f8f8f8;">
            <div style = "align-content: center"><input type="file" name="gameFile" id="gameFile" /></div>
        </div>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Сохранить</button>
</form>

@section Scripts {
    <script>
    const dropzone = document.getElementById("dropzone");
    const fileInput = document.getElementById("gameFile");

    dropzone.addEventListener("dragover", (e) => {
        e.preventDefault();
        dropzone.classList.add("bg-light");
    });

    dropzone.addEventListener("dragleave", () => {
        dropzone.classList.remove("bg-light");
    });

    dropzone.addEventListener("drop", (e) => {
        e.preventDefault();
        dropzone.classList.remove("bg-light");
        const files = e.dataTransfer.files;
        fileInput.files = files;
    });
</script>
}